(()=>{"use strict";var e={454:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.AppController=void 0;const o=r(752),a=r(481);let d=class{getData(){return{info:{routes:["/product","/cart"]}}}};(0,o.__decorate)([(0,a.Get)(""),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[]),(0,o.__metadata)("design:returntype",Object)],d.prototype,"getData",null),d=(0,o.__decorate)([(0,a.Controller)()],d),t.AppController=d},292:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.AppModule=void 0;const o=r(752),a=r(481),d=r(399),i=r(204),n=r(454),s=r(456),c=r(557),p=r(385),_=r(17);let u=class{};u=(0,o.__decorate)([(0,a.Module)({imports:[p.ServeStaticModule.forRoot({rootPath:(0,_.join)(__dirname,"..","shop"),exclude:["/api*"]}),d.TypeOrmModule.forRoot({type:"postgres",host:process.env.DB_HOST,port:parseInt(process.env.DB_PORT),username:process.env.DB_USERNAME,password:process.env.DB_PASSWORD,database:process.env.DB_DATABASE,entities:i.entities,synchronize:!0}),s.ProductModule,c.CartModule],controllers:[n.AppController],providers:[]})],u),t.AppModule=u},557:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CartModule=void 0;const o=r(752),a=r(481),d=r(399),i=r(346),n=r(43),s=r(5);let c=class{};c=(0,o.__decorate)([(0,a.Module)({imports:[d.TypeOrmModule.forFeature([i.Cart])],controllers:[n.CartController],providers:[s.CartService]})],c),t.CartModule=c},43:(e,t,r)=>{var o,a,d,i;Object.defineProperty(t,"__esModule",{value:!0}),t.CartController=void 0;const n=r(752),s=r(481),c=r(242),p=r(5);let _=class{constructor(e){this.service=e}findAll(){return this.service.findAll()}create(e){return this.service.create(e)}delete(e){return this.service.delete(e)}};(0,n.__decorate)([(0,s.Get)("/"),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[]),(0,n.__metadata)("design:returntype","function"==typeof(o="undefined"!=typeof Promise&&Promise)?o:Object)],_.prototype,"findAll",null),(0,n.__decorate)([(0,s.Post)("/"),(0,n.__param)(0,(0,s.Body)()),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",["function"==typeof(a=void 0!==c.CartDto&&c.CartDto)?a:Object]),(0,n.__metadata)("design:returntype","function"==typeof(d="undefined"!=typeof Promise&&Promise)?d:Object)],_.prototype,"create",null),(0,n.__decorate)([(0,s.Delete)("/:id"),(0,n.__param)(0,(0,s.Param)("id")),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Number]),(0,n.__metadata)("design:returntype",void 0)],_.prototype,"delete",null),_=(0,n.__decorate)([(0,s.Controller)("cart"),(0,n.__metadata)("design:paramtypes",["function"==typeof(i=void 0!==p.CartService&&p.CartService)?i:Object])],_),t.CartController=_},242:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CartDto=void 0;const o=r(752),a=r(849);class d{}(0,o.__decorate)([(0,a.IsNumber)(),(0,o.__metadata)("design:type",Number)],d.prototype,"id",void 0),(0,o.__decorate)([(0,a.IsNumber)(),(0,o.__metadata)("design:type",Number)],d.prototype,"productId",void 0),t.CartDto=d},5:(e,t,r)=>{var o;Object.defineProperty(t,"__esModule",{value:!0}),t.CartService=void 0;const a=r(752),d=r(481),i=r(399),n=r(250),s=r(346);let c=class{constructor(e){this.cartRepo=e}findAll(){return this.cartRepo.find()}create(e){return this.cartRepo.save(e)}delete(e){return this.cartRepo.delete({id:e})}};c=(0,a.__decorate)([(0,d.Injectable)(),(0,a.__param)(0,(0,i.InjectRepository)(s.Cart)),(0,a.__metadata)("design:paramtypes",["function"==typeof(o=void 0!==n.Repository&&n.Repository)?o:Object])],c),t.CartService=c},889:(e,t,r)=>{var o,a,d,i,n;Object.defineProperty(t,"__esModule",{value:!0}),t.ProductController=void 0;const s=r(752),c=r(481),p=r(83),_=r(523);let u=class{constructor(e){this.service=e}findOne(e){return this.service.findOne(e)}findAll(){return this.service.findAll()}create(e){return this.service.create(e)}};(0,s.__decorate)([(0,c.Get)("/:id"),(0,s.__param)(0,(0,c.Param)("id")),(0,s.__metadata)("design:type",Function),(0,s.__metadata)("design:paramtypes",[Number]),(0,s.__metadata)("design:returntype","function"==typeof(o="undefined"!=typeof Promise&&Promise)?o:Object)],u.prototype,"findOne",null),(0,s.__decorate)([(0,c.Get)("/"),(0,s.__metadata)("design:type",Function),(0,s.__metadata)("design:paramtypes",[]),(0,s.__metadata)("design:returntype","function"==typeof(a="undefined"!=typeof Promise&&Promise)?a:Object)],u.prototype,"findAll",null),(0,s.__decorate)([(0,c.Post)("/"),(0,s.__param)(0,(0,c.Body)()),(0,s.__metadata)("design:type",Function),(0,s.__metadata)("design:paramtypes",["function"==typeof(d=void 0!==p.ProductDto&&p.ProductDto)?d:Object]),(0,s.__metadata)("design:returntype","function"==typeof(i="undefined"!=typeof Promise&&Promise)?i:Object)],u.prototype,"create",null),u=(0,s.__decorate)([(0,c.Controller)("products"),(0,s.__metadata)("design:paramtypes",["function"==typeof(n=void 0!==_.ProductService&&_.ProductService)?n:Object])],u),t.ProductController=u},83:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ProductDto=void 0;const o=r(752),a=r(849);class d{}(0,o.__decorate)([(0,a.IsNumber)(),(0,o.__metadata)("design:type",Number)],d.prototype,"id",void 0),(0,o.__decorate)([(0,a.IsString)(),(0,o.__metadata)("design:type",String)],d.prototype,"name",void 0),(0,o.__decorate)([(0,a.IsString)(),(0,o.__metadata)("design:type",String)],d.prototype,"description",void 0),(0,o.__decorate)([(0,a.IsNumber)(),(0,o.__metadata)("design:type",Number)],d.prototype,"price",void 0),t.ProductDto=d},456:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ProductModule=void 0;const o=r(752),a=r(481),d=r(399),i=r(691),n=r(889),s=r(523);let c=class{};c=(0,o.__decorate)([(0,a.Module)({imports:[d.TypeOrmModule.forFeature([i.Product])],controllers:[n.ProductController],providers:[s.ProductService]})],c),t.ProductModule=c},523:(e,t,r)=>{var o;Object.defineProperty(t,"__esModule",{value:!0}),t.ProductService=void 0;const a=r(752),d=r(481),i=r(399),n=r(250),s=r(691);let c=class{constructor(e){this.productRepo=e}findAll(){return this.productRepo.find()}create(e){return this.productRepo.save(e)}findOne(e){return this.productRepo.findOne({where:{id:e}})}};c=(0,a.__decorate)([(0,d.Injectable)(),(0,a.__param)(0,(0,i.InjectRepository)(s.Product)),(0,a.__metadata)("design:paramtypes",["function"==typeof(o=void 0!==n.Repository&&n.Repository)?o:Object])],c),t.ProductService=c},346:(e,t,r)=>{var o;Object.defineProperty(t,"__esModule",{value:!0}),t.Cart=void 0;const a=r(752),d=r(250),i=r(691);let n=class{};(0,a.__decorate)([(0,d.PrimaryGeneratedColumn)(),(0,a.__metadata)("design:type",Number)],n.prototype,"id",void 0),(0,a.__decorate)([(0,d.Column)({name:"productId"}),(0,a.__metadata)("design:type",Number)],n.prototype,"productId",void 0),(0,a.__decorate)([(0,d.ManyToOne)((()=>i.Product),(e=>e.carts)),(0,d.JoinColumn)({name:"productId"}),(0,a.__metadata)("design:type","function"==typeof(o=void 0!==i.Product&&i.Product)?o:Object)],n.prototype,"product",void 0),n=(0,a.__decorate)([(0,d.Entity)()],n),t.Cart=n},204:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.entities=void 0;const o=r(691),a=r(346);t.entities=[o.Product,a.Cart]},691:(e,t,r)=>{var o;Object.defineProperty(t,"__esModule",{value:!0}),t.Product=void 0;const a=r(752),d=r(250),i=r(346);let n=class{};(0,a.__decorate)([(0,d.PrimaryGeneratedColumn)(),(0,a.__metadata)("design:type",Number)],n.prototype,"id",void 0),(0,a.__decorate)([(0,d.Column)({nullable:!1}),(0,a.__metadata)("design:type",String)],n.prototype,"name",void 0),(0,a.__decorate)([(0,d.Column)(),(0,a.__metadata)("design:type",String)],n.prototype,"description",void 0),(0,a.__decorate)([(0,d.Column)({nullable:!1}),(0,a.__metadata)("design:type",Number)],n.prototype,"price",void 0),(0,a.__decorate)([(0,d.OneToMany)((()=>i.Cart),(e=>e.product)),(0,a.__metadata)("design:type","function"==typeof(o=void 0!==i.Cart&&i.Cart)?o:Object)],n.prototype,"carts",void 0),n=(0,a.__decorate)([(0,d.Entity)()],n),t.Product=n},481:e=>{e.exports=require("@nestjs/common")},143:e=>{e.exports=require("@nestjs/core")},385:e=>{e.exports=require("@nestjs/serve-static")},399:e=>{e.exports=require("@nestjs/typeorm")},849:e=>{e.exports=require("class-validator")},752:e=>{e.exports=require("tslib")},250:e=>{e.exports=require("typeorm")},17:e=>{e.exports=require("path")}},t={};function r(o){var a=t[o];if(void 0!==a)return a.exports;var d=t[o]={exports:{}};return e[o](d,d.exports,r),d.exports}var o={};(()=>{var e=o;Object.defineProperty(e,"__esModule",{value:!0});const t=r(752),a=r(481),d=r(143),i=r(292);!function(){(0,t.__awaiter)(this,void 0,void 0,(function*(){const e=yield d.NestFactory.create(i.AppModule);e.setGlobalPrefix("api");const t=process.env.PORT||3333;yield e.listen(t),a.Logger.log(`ðŸš€ Application is running on: http://localhost:${t}/api`)}))}()})();var a=exports;for(var d in o)a[d]=o[d];o.__esModule&&Object.defineProperty(a,"__esModule",{value:!0})})();
//# sourceMappingURL=main.js.map